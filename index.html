<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Amplop Interaktif — buka surat</title>
  <style>
    :root{
      --bg:#f4f6fb; --card:#ffffff; --accent:#e85d75; --shadow: 0 12px 30px rgba(16,24,40,0.12);
      --dur:700ms; --ease:cubic-bezier(.2,.9,.3,1);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#1f2937;background:linear-gradient(180deg,#f8fbff, #eef4ff)}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:32px}

    .scene{width:360px; max-width:92vw; position:relative}

    /* Envelope base */
    .envelope{width:100%; height:220px; background:var(--card); border-radius:12px; position:relative; box-shadow:var(--shadow); overflow:visible}

    /* Back of envelope (paper) */
    .paper{position:absolute; inset:18px; background:linear-gradient(180deg,#fff,#fffaf8); border-radius:8px; box-shadow:inset 0 1px 0 rgba(0,0,0,0.03); transform:translateY(40px); opacity:0; transition:all var(--dur) var(--ease); padding:20px}
    .paper.revealed{transform:translateY(8px); opacity:1}

    /* Flap */
    .flap{position:absolute; left:0; right:0; top:-2px; height:120px; display:block; margin:auto; width:100%; transform-origin:50% 0; border-radius:12px; pointer-events:auto; z-index:4}
    .flap .shape{
      width:0; height:0; border-left:180px solid transparent; border-right:180px solid transparent; border-bottom:90px solid var(--card); margin:auto; position:relative; top:6px; box-shadow:var(--shadow);
      transition:transform var(--dur) var(--ease);
    }
    .envelope.open .shape{ transform:translateY(-68px) rotateX(180deg); box-shadow:none }

    /* Seal */
    .seal{position:absolute; left:50%; top:56px; transform:translateX(-50%); width:66px; height:66px; background:var(--accent); color:white; border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; z-index:5; box-shadow:0 6px 18px rgba(232,93,117,0.28); transition:transform 300ms var(--ease)}
    .envelope.open .seal{ transform:translateX(-50%) translateY(-160px) scale(0.8); opacity:0 }

    /* Letter */
    .letter{width:84%; margin:12% auto 0; background:#fff; border-radius:6px; padding:18px; box-shadow:0 8px 22px rgba(15,23,42,0.06); transform-origin:50% 0; transform:translateY(120px) rotateX(20deg); transition:transform var(--dur) var(--ease); z-index:3}
    .envelope.open .letter{ transform:translateY(-18px) rotateX(0deg) }

    .letter h2{margin:0 0 8px 0; font-size:18px; color:#111827}
    .letter p{margin:0; color:#374151; line-height:1.45}

    /* Controls */
    .actions{display:flex; gap:10px; justify-content:center; margin-top:18px}
    button{border:0; background:#fff; padding:10px 14px; border-radius:999px; box-shadow:0 6px 18px rgba(2,6,23,0.06); cursor:pointer}
    .primary{background:var(--accent); color:white}

    /* small hint */
    .hint{position:absolute; left:12px; bottom:-34px; font-size:13px; color:#6b7280}

    /* responsive */
    @media (max-width:420px){ .envelope{height:200px} .paper{inset:14px} }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="scene" aria-live="polite">
      <div class="envelope" id="env" role="button" tabindex="0" aria-pressed="false" aria-label="Amplop interaktif, tekan untuk membuka">
        <div class="flap" id="flap"><div class="shape"></div></div>
        <div class="seal" id="seal">❤</div>

        <div class="paper" id="paper">
          <div class="letter" id="letter">
            <h2>Surat Untuk Cinta Abang yang paling manis</h2>
            <img src="gio.jpg" alt="Foto Pacar" style="width:100%;border-radius:8px;margin:10px 0;box-shadow:0 4px 12px rgba(0,0,0,0.15)">
            <p id="message">Lopyu Sayang Abang Cinta Abang yang manis dan baik hati</p>
          </div>
        </div>
      </div>

      <div class="actions">
        <button id="openBtn" class="primary">Buka Amplop</button>
        <button id="resetBtn">Tutup</button>
      </div>

    </div>
  </div>

  <script>
    const env = document.getElementById('env');
    const openBtn = document.getElementById('openBtn');
    const resetBtn = document.getElementById('resetBtn');
    const paper = document.getElementById('paper');

    function setOpen(open){
      env.classList.toggle('open', open);
      paper.classList.toggle('revealed', open);
      env.setAttribute('aria-pressed', String(Boolean(open)));
      openBtn.textContent = open ? 'Sudah Terbuka' : 'Buka Amplop';
    }

    env.addEventListener('click', ()=> setOpen(!env.classList.contains('open')) );
    openBtn.addEventListener('click', ()=> setOpen(true));
    resetBtn.addEventListener('click', ()=> setOpen(false));

    // keyboard accessibility
    env.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); setOpen(!env.classList.contains('open')); }
    });

    // optional: change message programmatically (example)
    // document.getElementById('message').textContent = 'Halo, ini pesan baru!';
  </script>
</body>
</html>
